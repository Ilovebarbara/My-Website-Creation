{% extends 'base.html' %}
{% block content %}
<div class="container mt-5">
    <h1>{{ post.title }}</h1>
    <p class="mb-1">By {{ post.author }} | {{ post.created_at|date:'M d, Y' }} | {{ post.category }}</p>
    <div class="mb-4">{{ post.content|linebreaks }}</div>
    <h4>Comments</h4>
    {% for comment in comments %}
    <div class="mb-2 p-2 border rounded">
        <strong>{{ comment.author }}</strong> <span class="text-muted">{{ comment.created_at|date:'M d, Y H:i' }}</span>
        <div>{{ comment.content|linebreaks }}</div>
    </div>
    {% empty %}
    <p>No comments yet.</p>
    {% endfor %}
    <h5 class="mt-4">Leave a Comment</h5>
    <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-success">Submit</button>
    </form>
</div>
{% endblock %}
