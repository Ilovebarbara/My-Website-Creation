{% extends "base.html" %}
{% load i18n %}

{% block extra_css %}
<style>
    body {
        background-color: #121212;
        color: #e0e0e0;
    }
    .oauth-card {
        background-color: #1e1e1e;
        border: 1px solid #333;
        border-radius: 15px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
    }
    .provider-icon {
        width: 48px;
        height: 48px;
        margin-bottom: 1rem;
    }
    .btn-connect {
        background: linear-gradient(45deg, #0d6efd, #0099ff);
        border: none;
        transition: all 0.3s ease;
    }
    .btn-connect:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(13, 110, 253, 0.4);
    }
    .btn-cancel {
        background-color: #2d2d2d;
        border: 1px solid #404040;
        color: #e0e0e0;
        transition: all 0.3s ease;
    }
    .btn-cancel:hover {
        background-color: #333;
        color: #fff;
        transform: translateY(-2px);
    }
    .process-text {
        color: #666;
        font-size: 0.9rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-5">
            <div class="card oauth-card">
                <div class="card-body p-4 text-center">
                    {% if provider.name == 'Google' %}
                        <img src="https://www.google.com/favicon.ico" alt="Google" class="provider-icon">
                    {% endif %}
                    
                    {% if process == "connect" %}
                        <h1 class="mb-4 fw-bold">Connect {{ provider.name }}</h1>
                        <p class="process-text mb-4">You're about to connect your account with {{ provider.name }}. This will allow you to sign in using your {{ provider.name }} account in the future.</p>
                    {% else %}
                        <h1 class="mb-4 fw-bold">Sign in with {{ provider.name }}</h1>
                        <p class="process-text mb-4">You're about to sign in using your {{ provider.name }} account. This is a secure process.</p>
                    {% endif %}

                    <form method="post" class="d-grid gap-3">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-lg btn-connect">
                            <i class="bi bi-arrow-right-circle me-2"></i>Continue with {{ provider.name }}
                        </button>
                        <a href="{% url 'login' %}" class="btn btn-lg btn-cancel">
                            <i class="bi bi-x-circle me-2"></i>Cancel
                        </a>
                    </form>

                    <div class="mt-4">
                        <small class="text-muted">
                            <i class="bi bi-shield-check me-1"></i>
                            Your information is protected by our privacy policy
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('form');
    form.addEventListener('submit', function() {
        const button = this.querySelector('button[type="submit"]');
        button.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span>Connecting...';
        button.disabled = true;
    });
});
</script>
{% endblock %}
